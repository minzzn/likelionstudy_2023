# 브라우저와 동작 원리
## 브라우저의 주요 기능
### 사용자가 참조하고자 하는 웹페이지를 서버에 요청하고  서버의 응답을 받아 브라우저에 표시
#### 대표적인 브라우저 - 익스플로러, 파이어폭스, 사파리, 크롬, 오페라 등
## 브라우저의 기본 구조
### 1. 사용자 인터페이스 : 주소 표시줄 , 이전/ 다음 버튼, 북마크 메뉴 등. 요청한 페이지를 보여주는 창을 제외한 나머지 모든 부분
### 2. 브라우저 엔진 : 사용자 인터페이스와 렌더링 엔진  사이의 동작을 제어
### 3. 렌더링 엔진 : 요청 받은 내용을 브라우저 화면에 표시. ex) HTML을 요청하면 HTML과 CSS를 파싱(원하는 데이터를 정보로 가공하는 것)하여 화면에 표시
### 4. 통신 : HTTP
### 5. UI 백엔드 : 콤보 박스와 창 같은 기본적인 장치를 그림
### 6. 자바스크립트 해석기 : 자바스크립트 코드를 해석하고 실행
### 7. 자료 저장소 : 자료를 저장하는 계층. 
## 렌더링 엔진
### 사용자가 요청한 내용을 서버로부터 받아 브라우저 화면에 표시한다. 

### ⦁ 표시 할 수 있는 것 : HTML 및 XML 문서와 이미지, PDF(플러그인이나 브라우저 확장 기능 이용)

### ⦁ 종류 : 파이어폭스 - 개코(Gecko) 엔진 / 사파리, 크롬 - 웹킷(Webkit) 엔진

### ⦁ 동작 과정 :  DOM 트리 구축을 위한 HTML 파싱 > 렌더 트리 구축 > 렌더 트리 배치 > 렌더 트리 그리기

### ＊파싱 : 브라우저가 코드를 이해하고 사용할 수 있는 구조로 변환 하는 것

![Alt text](https://d2.naver.com/content/images/2015/06/helloworld-59361-3.png)

#### → 웹킷의 동작 과정

![Alt text](https://d2.naver.com/content/images/2015/06/helloworld-59361-4.png)

#### → 게코의 동작 과정

## 렌더링 엔진의 동작 과정
### 1. DOM 트리 구축을 위한 HTML 파싱

### 렌더링 엔진은 우선 네트워크 레이어를 통해 전달받은 HTML 문서를 파싱하여 각 요소들을 DOM Tree(Contents Tree)의 각 DOM 노드 들로 전환한다. 

#### ＊DOM : Dcument object model 의 준말로 마크업 형태의 HTML 문서를 오브젝트 모델의 형태로 바꿔 놓은 것

```html
<html>

<body>

<p> 

Hello World

</p>

<div>안뇽</div>        

</body>

</html>
```

#### → 이러한 HTML 문서를 DOM  Tree로 전환하면 아래와 같이 구성된다.

![Alt text](https://d2.naver.com/content/images/2015/06/helloworld-59361-8.png)

### 2. 렌더 트리 구축

### HTML 문서들을 파싱해 DOM Tree를 구축한 후, 렌더링 엔진은 CSS/Style 데이터를 파싱해 스타일 데이터들로 렌더 트리를 만든다. DOM Tree가 웹 상에 나타날 내용을 구성한다면 렌더 트리는 시각적 요소, 어떻게 나타날지 그 스타일을 지정한다.


![Alt text](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=http%3A%2F%2Fcfile25.uf.tistory.com%2Fimage%2F9934074C5F53617C23BB89)

### 3. 렌더 트리 배치

### 각 노드들에게 스크린의 어느 공간에 위치해야 할지 각각의 값을 부여한다.



### 4. 렌더 트리 그리기

### 렌터 트리의 배치가 완료 되었다면, UI 백엔드가 동작해 각 노드들을 정해진 스타일 및 위치 값대로 화면에 배치한다.





#### 참고문서 

<https://powerdev.tistory.com/74>
